---
title: 'Lesson_4: Problem Set - Explore One Variable'
author: "Greg Clunies"
date: "3/18/2018"
output: html_document
editor_options: 
  chunk_output_type: console
---

## Load data from ggplot package
```{r}
library(ggplot2)  #must load the ggplot package first
data(diamonds)  #loads the diamonds data set since it comes with the ggplot package
```

## Q1
```{r}
summary(diamonds)
str(diamonds)
?diamonds
```

## Q2 - Histogram
```{r}
ggplot(data = diamonds, aes(x = price)) +
  geom_histogram()
```

## Q3 - Describe Shape, Summary Stats
```{r}
summary(diamonds$price)
```
Data is right skewed and long tailed. There is a slight spike around the \$4500 price. Prices range from \$326 to \$18823 (!!!). The median price is \$2401. The mean is \$3933.

## Q4 - Diamond Counts
```{r}
sum(diamonds$price < 500)
sum(diamonds$price < 250)
sum(diamonds$price >= 15000)
```

## Q5 - Cheaper Diamonds
```{r}
ggplot(data = diamonds, aes(x = price)) +
  geom_histogram(binwidth=50, color = 'black', fill = 'orange') +
  scale_x_continuous(limits = c(0,3000), breaks = seq(0,3000,250))

ggsave('CheapDiamonds_Histogram.png')
```

## Q6 - Histograms: Price by Cut
```{r}
ggplot(data = diamonds, aes(x = price)) +
  geom_histogram(binwidth = 50, color = 'black', fill = 'orange') +
  scale_x_continuous(breaks = seq(0,5000,500), limits = c(0, 5000)) +
  facet_wrap(~cut, ncol = 1)
```
It seems strange that so many "ideal" cut diamonds are available at such a 
low price. More investigation later?

## Q7 - Price by cut
```{r}
by(diamonds$price, diamonds$cut, summary)
```

## Q8 - Scales and Multiple Histograms
```{r}
# Run the code below in R Studio to generate
# the histogram as a reminder
qplot(x = price, data = diamonds) + 
  facet_wrap(~cut)

# 'free' the y-axis scales fro each facet
qplot(x = price, data = diamonds) + 
  facet_wrap(~cut, scales = 'free_y')
```

## Q9 - Price per Carat by Cut
```{r}

diamonds$price_per_carat <- diamonds$price/diamonds$carat

ggplot(data = diamonds, aes(x = price_per_carat)) +
  geom_histogram(binwidth = 0.05, color = 'black', fill = 'orange') +
  scale_x_log10() +
  facet_wrap(~cut, scales = 'free_y') +
  annotation_logticks(sides = 'b')
```


